# Udacity Full Stack Development Nanodegree

This is the **capstone project** of Udacity's Full Stack Development Nanodegree

---

## Data Modeling

### Architect Relational Database Models in Python

Key data models are defined using SQLAlchemy in [here](workspace/backend/application/models.py)

Below is the ERD generated by [ERAlchemy](https://pypi.org/project/ERAlchemy/)

<img src="doc/data-modeling--erd.png" alt="Entity Relationship Diagram"/>

### Utilize SQLAlchemy to Conduct Database Queries

* Does not use raw SQL or only where there are not SQLAlchemy equivalent expressions
* Correctly formats SQLAlchemy to define models
* Creates methods to serialize model data and helper methods to simplify API behavior such as insert, update and delete.

---

## API Architecture and Testing

### Follow RESTful Principles of API Development

In this project all the RESTful endpoints are implemented using [Flask RESTplus](https://flask-restplus.readthedocs.io/en/stable/quickstart.html) inside [here](workspace/backend/application/api/v2)

### Structure Endpoints to Respond to Four HTTP methods with Error Handling

The interactive RESTful endpoints using [Swagger UI](https://flask-restplus.readthedocs.io/en/stable/swagger.html#swaggerui) can be accessed at [here][TBD]

Here is the overview of **posts** endpoints

<img src="doc/restful-api--posts.png" alt="RESTful API Posts"/>

#### Utilize the @app.errorhandler decorator to format error responses as JSON objects for at least four different status codes

All error handlers are implemented inside [here](workspace/backend/application/api/v2/errors.py)

### Enable Role Based Authentication and Roles-Based Access Control (RBAC) in a Flask application

* Project includes a custom @requires_auth decorator that:
    * Get the Authorization header from the request
    * Decode and verify the JWT using the Auth0 secret
    * Take an argument to describe the action, i.e. @require_auth(‘create:drink’)
    * Raise an error if:
        - The token is expired
        - The claims are invalid
        - The token is invalid
        - The JWT doesn’t contain the proper action
* Project includes at least two different roles that have distinct permissions for actions. These roles and permissions are clearly defined in the project README. Students can reference the Casting Agency Specs in the Specifications section of this rubric as an example.

### Demonstrate Validity of API Behavior

* Includes at least one test for expected success and error behavior for each endpoint using the unittest library
* Includes tests demonstrating role-based access control, at least two per role.

---

## Third-Party Authentication

### Configure Third-Party Authentication Systems

Auth0 is set up and running at the time of submission. All required configuration settings are included in a bash file which export:

- The Auth0 Domain Name
- The JWT code signing secret
- The Auth0 Client ID

### Configure Roles-Based Access Control (RBAC)

* Roles and permission tables are configured in Auth0.
* Access of roles is limited. Includes at least two different roles with different permissions.
* The JWT includes the RBAC permission claims.

---

## Deployment

### Application is Hosted Live at Student Provided URL

* API is hosted live via Heroku
* URL is provided in project README
* API can be accessed by URL and requires authentication

### Includes Instructions to Set Up Authentication

First, get the required JWT for Authorization header at [here](TBD)

After that, all the APIs can be tested interactively inside [Swagger UI](https://flask-restplus.readthedocs.io/en/stable/swagger.html#swaggerui). Please interact with the APIs [here][TBD]

---

## Code Quality & Documentation

### Write Clear, Concise and Well Documented Code

### Project Demonstrates Reliability and Testability

The backend is deployed for production using the following best practices:

* One
* Two
* Three

### Project Demonstrates Maintainability

The project has been structured according to [Miguel Grinberg](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xv-a-better-application-structure)'s recommended best practices.

### Project Includes Thorough Documentation


